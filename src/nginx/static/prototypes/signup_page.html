<!doctype html>
<html lang="en">

<head>
	<!-- Required meta tags -->
	<meta charset="utf-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1"/>

	<!-- Bootstrap CSS -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
	crossorigin="anonymous"/>
	<!-- Custom CSS -->
	<link href="../css/template.css" rel="stylesheet"/>

	<!-- Bootstrap Bundle with Popper -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
		crossorigin="anonymous"
		defer></script>

	<title>Signup Page</title>
</head>

<body class="d-flex flex-column vh-100">
	<main id="mainContent" class="d-flex flex-grow-1 align-items-center justify-content-evenly flex-wrap">
		<!-- Signup Page -->
		<div class="p-3 rounded-3 bg-dark">
			<form id="signupForm">
				<h3 class="text-center text-white">Signup</h3>
				<!-- Username -->
				<label for="signupUser" class="form-label text-secondary">Username</label>
				<input name="username"
					id="signupUser"
					type="text"
					class="form-control mb-3"
				/>
				<!-- Email -->
				<label for="signupEmail" class="form-label text-secondary">Email adress</label>
				<input name="email"
					id="signupEmail"
					type="email"
					class="form-control"
					placeholder="name@example.com"
					aria-describedby="signupEmailHelp"
				/>
				<div class="form-text text-secondary mb-3" id="signupEmailHelp">
					We'll never share your email with a third party .....probably
				</div>
				<!-- first Password -->
				<label for="signupPassword1" class="form-label text-secondary">Password</label>
				<input name="password"
					id="signupPassword1"
					type="password"
					class="form-control mb-1"
				/>
				<!-- second Password -->
				<label for="signupPassword2" class="form-label text-secondary">Password again</label>
				<input name="password2"
					id="signupPassword2"
					type="password"
					class="form-control mb-3"
				/>
                <!-- change to login page -->
				<p class="text-secondary small m-0">Already signed up?
					<!-- the link may be wrong if the port changes. it also only works if the server is running -->
					<a href="https://localhost:8000/prototypes/login_page.html" class="text-decoration-none text-white">
						Log in
					</a>
					here!
				</p>
				<button type="submit" class="btn btn-custom w-100" form="signupForm">Sign up</button>
			</form>
		</div>
	</main>



	<main id="mainContent" class="d-flex flex-grow-1 align-items-center justify-content-evenly flex-wrap">
		<!-- Signup Page -->

		<div class="p-3 rounded-3 bg-dark" style="max-width: 300px;">
			<h3 class="text-center text-white">Signup</h3>
			<form id="42SignupForm" method="post" enctype="application/x-www-form-urlencoded" target="_self" action="/registration/oauthtwo_send_authorization_request">
				<input type="hidden" name="next_step" value="signup">
				<label for="loginWith42" class="form-label text-secondary">Only for 42 students</label>
				<button id="loginWith42" class="btn btn-custom w-100 mb-3" type="submit">Sign up with 42</button>
			</form>
			<hr class="text-secondary">
			<form id="signupForm" class="d-flex flex-column gap-3">
				<div id="signupEmailSection">
					<label for="signupEmail" class="form-label text-secondary">Email address</label>
					<div class="input-group">
						<input name="email"
							id="signupEmail"
							type="email"
							class="form-control rounded-end"
							placeholder="name@example.com"
							aria-required="true"
							aria-describedby="signupErrorMessageEmail"
							pattern="^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$"
							required
						/>
						<button id="signupChangeUsernameButton" class="btn btn-custom d-none" type="button">Change</button>
					</div>
					<span id="signupErrorMessageEmail" class="text-danger" style="display:block;"></span>
				</div>
				<div id="signupPasswordSection">
					<label for="signupPassword1" class="form-label text-secondary">Password</label>
					<div class="input-group">
						<input name="password"
							id="signupPassword1"
							type="password"
							class="form-control rounded-end"
							aria-required="true"
							aria-describedby="signupErrorMessagePassword"
							minlength="8"
							maxlength="120"
							pattern="^(?=.*[a-zA-Z])[\\S]{8,120}$"
							required
						/>
						<button id="signupChangePassword1Button" class="btn btn-custom d-none" type="button">Change</button>
					</div>
					<label for="signupPassword2" class="form-label text-secondary">Repeat password</label>
					<div class="input-group">
						<input name="password2"
							id="signupPassword2"
							type="password"
							class="form-control rounded-end"
							aria-required="true"
							aria-describedby="signupErrorMessagePassword"
							minlength="8"
							maxlength="120"
							pattern="^(?=.*[a-zA-Z])[\\S]{8,120}$"
							required
						/>
						<button id="signupChangePassword2Button" class="btn btn-custom d-none" type="button">Change</button>
					</div>
					<span id="signupErrorMessagePassword" class="text-danger"></span>
				</div>
				<div id="signupOtpSection" style="display: none;">
					<label for="signupOtpCode" class="form-label text-secondary">OTP Code sent to your E-Mail</label>
					<div class="input-group mb-3">
						<input name="otp" id="signupOtpCode" type="text" class="form-control" aria-required="true" pattern="[A-Za-z0-9]{16}" minlength="16" maxlength="16">
						<button id="signupRequestOtpButton" class="btn btn-custom" type="button" disabled>New OTP</button>
					</div>
					<span id="signupOtpErrorMessage" class="text-danger"></span>
				</div>
				<div>
					<p class="text-secondary small m-0"><a href="/forgot-password" class="text-decoration-none text-white" id="signupForgotPassword">Forgot Password?</a></p>
					<p class="text-secondary small m-0">Already signed up?
						<a href="/login" id="signupGoToLogin" class="text-decoration-none text-white">
							Log in
						</a>
						here!
					</p>
					<button type="submit" class="btn btn-custom w-100" form="signupForm" id="signupSubmitButton" disabled>Sign up</button>
				</div>
				<div id="signupPasswordWarning" class="alert alert-danger mt-3" style="display: none;">Passwords do not match</div>
				<div id="signupEmailWarning" class="alert alert-danger mt-3" style="display: none;">Invalid email address</div>
				<div id="signupError" class="alert alert-danger mt-3" style="display: none;">Couldn't signup with provided data</div>
			</form>
		</div>
	</main>

</body>

</html>
